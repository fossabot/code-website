image: Ubuntu

platform:
    - x64

stack: node 11

install:
    - npm ci --only=production
    - npm install

# defined specific build configs for different branches
for:
-
    branches:
        only:
            - master
    build_script:
        - npm run publish_production
-
    branches:
        only:
            - develop
    build_script:
        - npm run publish_stage

# This will build based on `CONFIG` environment variable

version: "{build}"

skip_tags: true

branches:
    only:
        - master
        - develop
        - /feature*/
